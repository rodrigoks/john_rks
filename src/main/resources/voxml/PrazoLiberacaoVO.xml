<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="prazoliberacao">
    
    <update id="update" parameterType="PrazoLiberacaoVO">
            UPDATE
            	logbook23_configuracoes_prazos_liberacao
            SET
	            flogbook23_ativar = #{ativar},
	            flogbook23_dias = #{dias},
	            flogbook23_responsavel = #{responsavel},
	            flogbook23_data_alteracao = now()
            WHERE
            	flogbook23_id = #{id}
    </update>
    
    <select id="select" resultMap="result" parameterType="PrazoLiberacaoVO" >
        SELECT
		  *
		FROM
		  logbook23_configuracoes_prazos_liberacao
		INNER JOIN
			logbook10_tipo_operacao
		ON
			logbook23_configuracoes_prazos_liberacao.flogbook10_id = logbook10_tipo_operacao.flogbook10_id
    </select>

    <resultMap id="result" type="PrazoLiberacaoVO">
    	<id property="id" column="flogbook23_id"/>
        <result property="ativar" column="flogbook23_ativar" />
		<result property="dias" column="flogbook23_dias" />
		<result property="responsavel" column="flogbook23_responsavel" />
		<result property="dataAlteracao" column="flogbook23_data_alteracao" />
		<association property="tipoOperacao" javaType="TipoOperacaoVO">
            <id property="id" column="flogbook10_id"/>
        	<result property="descricao" column="flogbook10_descricao" />
        </association>
    </resultMap>

</mapper>