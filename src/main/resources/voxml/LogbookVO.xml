<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="logbook">

    <insert id="insert" parameterType="LogbookVO" useGeneratedKeys="true" keyProperty="id" >

        INSERT INTO logbook07_logbook (
            flogbook07_week,
            flogbook07_transportadora,
            flogbook07_cnpj_transportadora,
            flogbook07_filial,
            flogbook07_operacao,
            flogbook07_data_agendamento,
            flogbook07_cte,
            flogbook07_serie,
            flogbook07_data_emissao_cte,
            flogbook07_chave_cte,
            flogbook07_rota,
            flogbook07_origem,
            flogbook07_uf_origem,
            flogbook07_destino,
            flogbook07_uf_destino,
            flogbook07_extensao_rota,
            flogbook07_tipo_cobranca,
            flogbook07_tipo_documento,
            flogbook07_valor_tarifa,
            flogbook07_valor_frete_peso,
            flogbook07_valor_emissao_cte,
            flogbook07_valor_pedagio,
            flogbook07_aliquota_seguro,
            flogbook07_valor_seguro,
            flogbook07_valor_despesa_extra,
            flogbook07_tipo_servico,
            flogbook07_percurso,
            flogbook07_solicitante_servico,
            flogbook07_aliquota_icms,
            flogbook07_valor_icms,
            flogbook07_placa_veiculo_utilizado,
            flogbook07_tipo_veiculo_solicitado,
            flogbook07_capacidade_veiculo_solicitado,
            flogbook07_tipo_veiculo_utilizado,
            flogbook07_capacidade_veiculo_utilizado,
            flogbook07_observacao,
            flogbook07_status,
            flogbook07_data_cadastro,
            flogbook07_responsavel
        ) VALUES
        <foreach collection="collection" item="item" index="index" open="(" separator="),(" close=")" >
            #{item.week},
            #{item.transportadora},
            #{item.cnpjTransportadora},
            #{item.filial},
            #{item.operacao.id},
            #{item.dataAgendamento},
            #{item.cte},
            #{item.serieCte},
            #{item.dataEmissaoCte},
            #{item.chaveCte},
            #{item.rota},
            #{item.origem},
            #{item.ufOrigem.id},
            #{item.destino},
            #{item.ufDestino.id},
            #{item.extensaoRota},
            #{item.tipoCobranca.id},
            #{item.tipoDocumento.id},
            #{item.valorTarifa},
            #{item.valorFretePeso},
            #{item.valorEmissaoCte},
            #{item.valorPedagio},
            #{item.aliquotaSeguro},
            #{item.seguro},
            #{item.valorDespesaExtra},
            #{item.tipoServico.id},
            #{item.percurso},
            #{item.solicitanteServico},
            #{item.aliquotaIcms},
            #{item.icms},
            #{item.placaVeiculoUtilizado},
            #{item.tipoVeiculoSolicitado.id},
            #{item.capacidadeVeiculoSolicitado},
            #{item.tipoVeiculoUtilizado.id},
            #{item.capacidadeVeiculoUtilizado},
            #{item.observacao},
            #{item.status},
            #{item.dataCadastro},
            #{item.responsavel}
        </foreach>

    </insert>
    
    <update id="updateCollection" parameterType="LogbookVO">
        <foreach collection="collection" item="item" index="index" separator=";">
            UPDATE
            	logbook07_logbook
            SET
	            flogbook07_data_em_auditoria = #{item.dataEmAuditoria},
	            flogbook07_data_liberado = #{item.dataLiberado},
	            flogbook07_data_validado = #{item.dataValidado},
	            flogbook07_data_aprovado = #{item.dataAprovado},
	            flogbook07_valor_pre_calculo = #{item.valorPrecalculo},
	            flogbook07_numero_conhecimento = #{item.numeroConhecimento},
	            flogbook07_serie_conhecimento = #{item.serieConhecimento},
	            flogbook07_valor_conhecimento = #{item.valorConhecimento},
	            flogbook07_interface_erp = #{item.interfaceErp},
	            flogbook07_codigo_produto = #{item.codigoProduto},
	            flogbook07_responsavel = #{item.responsavel},
	            flogbook07_status = #{item.status},
	            flogbook07_nao_migrou_ctms = #{item.naoMigrouCtms},
	            flogbook07_data_nao_migrou_ctms = #{item.dataNaoMigrouCtms},
	            flogbook07_cte_a_ser_liberado_ctms_xml = #{item.cteASerLiberadoCtmsXml},
	            flogbook07_data_cte_a_ser_liberado_ctms_xml = #{item.dataCteASerLiberadoCtmsXml},
	            flogbook07_cte_a_ser_liberado_ctms_aprovacao = #{item.cteASerLiberadoCtmsAprovacao},
	            flogbook07_data_cte_a_ser_liberado_ctms_aprovacao = #{item.dataCteASerLiberadoCtmsAprovacao},
	            flogbook07_ctms_nao_fez_pre_calculo = #{item.ctmsNaoFezPreCalculo},
	            flogbook07_data_ctms_nao_fez_pre_calculo = #{item.dataCtmsNaoFezPreCalculo},
	            flogbook07_conemb_nao_migrou_ctms = #{item.conembNaoMigrouCtms},
	            flogbook07_data_conemb_nao_migrou_ctms = #{item.dataConembNaoMigrouCtms}
            WHERE
            flogbook07_id = #{item.id}
        </foreach>
    </update>
    
    <update id="updateComparacaoEmAuditoria" parameterType="LogbookVO">
        <foreach collection="collection" item="item" index="index" separator=";">
            UPDATE
            	logbook07_logbook
            SET
	            flogbook07_data_em_auditoria = #{item.dataEmAuditoria},
	            flogbook07_responsavel = #{item.responsavel},
	            flogbook07_status = #{item.status},
	            flogbook07_nao_migrou_ctms = #{item.naoMigrouCtms},
	            flogbook07_data_nao_migrou_ctms = #{item.dataNaoMigrouCtms},
	            flogbook07_is_manual = #{item.manual},
	            flogbook07_is_interacao_manual = #{item.interacaoManual}
            WHERE
            	flogbook07_id = #{item.id}
        </foreach>
    </update>
    
    <update id="updateComparacaoValidado" parameterType="LogbookVO">
        <foreach collection="collection" item="item" index="index" separator=";">
            UPDATE
            	logbook07_logbook
            SET
	            flogbook07_data_validado = #{item.dataValidado},
	            flogbook07_responsavel = #{item.responsavel},
	            flogbook07_status = #{item.status},
	            flogbook07_cte_a_ser_liberado_ctms_xml = #{item.cteASerLiberadoCtmsXml},
	            flogbook07_data_cte_a_ser_liberado_ctms_xml = #{item.dataCteASerLiberadoCtmsXml},
	            flogbook07_cte_a_ser_liberado_ctms_aprovacao = #{item.cteASerLiberadoCtmsAprovacao},
	            flogbook07_data_cte_a_ser_liberado_ctms_aprovacao = #{item.dataCteASerLiberadoCtmsAprovacao},
	            flogbook07_is_interacao_manual = #{item.interacaoManual},
	            flogbook07_inserido_manualmente = #{item.inseridoManualmente},
	            flogbook07_data_inserido_manualmente = #{item.dataInseridoManualmente}
            WHERE
            	flogbook07_id = #{item.id}
        </foreach>
    </update>
    
    <update id="updateComparacaoAprovado" parameterType="LogbookVO">
        <foreach collection="collection" item="item" index="index" separator=";">
            UPDATE
            	logbook07_logbook
            SET
	            flogbook07_data_aprovado = #{item.dataAprovado},
	            flogbook07_responsavel = #{item.responsavel},
	            <if test="item.colLogJust.size() > 0">
		            flogbook07_is_interacao_manual = #{item.interacaoManual},
		        </if>
	            flogbook07_status = #{item.status}
            WHERE
            	flogbook07_id = #{item.id}
        </foreach>
    </update>
    
    <update id="updateComparacaoLiberado" parameterType="LogbookVO">
        <foreach collection="collection" item="item" index="index" separator=";">
            UPDATE
            	logbook07_logbook
            SET
	            flogbook07_data_liberado = #{item.dataLiberado},
	            flogbook07_responsavel = #{item.responsavel},
	            flogbook07_status = #{item.status}
            WHERE
            	flogbook07_id = #{item.id}
        </foreach>
    </update>
    
    <delete id="delete" parameterType="LogbookVO">
        DELETE FROM
          logbook07_logbook
        WHERE
          flogbook07_id
        IN
        <foreach collection="colIds" item="item" index="index" open="(" separator="," close=")" >
            #{item}
        </foreach>
    </delete>

    <select id="select" resultMap="result" parameterType="FiltroLogbookVO" >
        SELECT
		  logbook07_logbook.*,
		  logbook08_logbook_nota.*,
		  logbook10_tipo_operacao.*,
		  logbook11_estados.*,
		  logbook12_tipo_servico.*,
		  logbook13_tipo_cobranca.*,
		  logbook14_tipo_veiculo.*,
		  logbook09_tipo_documento.*,
		  estadodestino.flogbook11_id dest_flogbook11_id,
		  estadodestino.flogbook11_sigla dest_flogbook11_sigla,
		  estadodestino.flogbook11_estado dest_flogbook11_estado,
		  utilizado.flogbook14_id vu_flogbook14_id,
		  utilizado.flogbook14_descricao vu_flogbook14_descricao,
		  logbook20_erros_pre_calculo.*,
		  logbook19_justificativas.*,
		  logbook18_grupo_justificativas.*
		FROM
		  logbook07_logbook
		LEFT JOIN
		  logbook08_logbook_nota
		ON
		  logbook07_logbook.flogbook07_id = logbook08_logbook_nota.flogbook07_id
		INNER JOIN
		  logbook10_tipo_operacao
		ON
		  logbook10_tipo_operacao.flogbook10_id = logbook07_logbook.flogbook07_operacao
		INNER JOIN
		  logbook11_estados
		ON
		  logbook11_estados.flogbook11_id = logbook07_logbook.flogbook07_uf_origem
		INNER JOIN
		  logbook11_estados as estadodestino
		ON
		  estadodestino.flogbook11_id = logbook07_logbook.flogbook07_uf_destino
		INNER JOIN
		  logbook12_tipo_servico
		ON
		  logbook12_tipo_servico.flogbook12_id = logbook07_logbook.flogbook07_tipo_servico
		INNER JOIN
		  logbook13_tipo_cobranca
		ON
		  logbook13_tipo_cobranca.flogbook13_id = logbook07_logbook.flogbook07_tipo_cobranca
		INNER JOIN
		  logbook14_tipo_veiculo
		ON
		  logbook14_tipo_veiculo.flogbook14_id = logbook07_logbook.flogbook07_tipo_veiculo_solicitado
		INNER JOIN
		  logbook14_tipo_veiculo as utilizado
		ON
		  utilizado.flogbook14_id = logbook07_logbook.flogbook07_tipo_veiculo_utilizado
		INNER JOIN
		  logbook09_tipo_documento
		ON
		  logbook09_tipo_documento.flogbook09_id = logbook07_logbook.flogbook07_tipo_documento
		LEFT JOIN
		  logbook20_erros_pre_calculo
		ON
		  logbook08_logbook_nota.flogbook08_id = logbook20_erros_pre_calculo.flogbook08_id
		LEFT JOIN
		  logbook22_log_just
		ON
		  logbook22_log_just.flogbook07_id = logbook07_logbook.flogbook07_id
		LEFT JOIN
		  logbook19_justificativas
		ON
		  logbook19_justificativas.flogbook19_id = logbook22_log_just.flogbook19_id
		LEFT JOIN
		  logbook18_grupo_justificativas
		ON
		  logbook19_justificativas.flogbook18_id = logbook18_grupo_justificativas.flogbook18_id
		<if test="user.group.group == 'WSATransportadora'">
		  INNER JOIN
		    logbook06_cnpjs_transportadoras
		  ON
		    logbook06_cnpjs_transportadoras.flogbook06_cnpj = logbook07_logbook.flogbook07_cnpj_transportadora
		  INNER JOIN
		    logbook05_transportadoras
		  ON
		    logbook05_transportadoras.flogbook05_id = logbook06_cnpjs_transportadoras.flogbook05_id
		  INNER JOIN
		    logbook16_transportadoras_usuarios
		  ON
		    logbook16_transportadoras_usuarios.flogbook05_id = logbook05_transportadoras.flogbook05_id
		  INNER JOIN
		    tscy02h_usuario
	      ON
		    logbook16_transportadoras_usuarios.fscy02_id = tscy02h_usuario.ascy02_id
		</if>
		WHERE
		flogbook07_status != ''
		<if test="aAuditar">
            AND
            flogbook07_status = 'I'
        </if>
        <if test="emAuditoria">
            AND
            flogbook07_status = 'E'
        </if>
        <if test="validado">
            AND
            flogbook07_status = 'V'
        </if>
        <if test="aprovado">
            AND
            flogbook07_status = 'A'
        </if>
        <if test="verificarNovelis">
            AND
            flogbook07_status = 'N'
        </if>
        <if test="liberado">
            AND
            flogbook07_status = 'L'
        </if>
        <if test="transportadora and transportadora.colCnpjs != null and !transportadora.colCnpjs.isEmpty()">
            AND
            flogbook07_cnpj_transportadora
            IN
            <foreach collection="transportadora.colCnpjs" item="item" index="index" open="(" separator="," close=")" >
                #{item.cnpj}
            </foreach>
        </if>
        <if test="dataInicial">
            AND
            flogbook07_data_emissao_cte &gt;= #{dataInicial}
        </if>
        <if test="dataFinal">
            AND
            flogbook07_data_emissao_cte &lt; #{dataFinal}
        </if>
        <if test="user.group.group == 'WSATransportadora'">
            AND
              tscy02h_usuario.ascy02_id = #{user.id}
        </if>
        <choose>
	        <when test="colItens != null and !colItens.isEmpty()">
	        	<choose>
	                <when test="ctes == false and nfes == false and week == false">
	                    AND
	                    (
	                    flogbook07_cte
	                    IN
	                    <foreach collection="colItens" item="item" index="index" open="(" separator="," close=")" >
	                        #{item}
	                    </foreach>
	                    OR
	                    flogbook08_numero
	                    IN
	                    <foreach collection="colItens" item="item" index="index" open="(" separator="," close=")" >
	                        #{item}
	                    </foreach>
	                    OR
	                    flogbook07_week
	                    IN
	                    <foreach collection="colItens" item="item" index="index" open="(" separator="," close=")" >
	                        #{item}
	                    </foreach>
	                    )
	                </when>
	                <otherwise>
	                    <if test="ctes">
	                        AND
	                        flogbook07_cte
	                        IN
	                        <foreach collection="colItens" item="item" index="index" open="(" separator="," close=")" >
	                            #{item}
	                        </foreach>
	                    </if>
	                    <if test="nfes">
	                        AND
	                        flogbook08_numero
	                        IN
	                        <foreach collection="colItens" item="item" index="index" open="(" separator="," close=")" >
	                            #{item}
	                        </foreach>
	                    </if>
	                    <if test="week">
	                        AND
	                        flogbook07_week
	                        IN
	                        <foreach collection="colItens" item="item" index="index" open="(" separator="," close=")" >
	                            #{item}
	                        </foreach>
	                    </if>
	                </otherwise>
	            </choose>
	        </when>
        </choose>
		<choose>
            <when test="aAuditar == false and emAuditoria == false and validado == false and aprovado == false and verificarNovelis == false 
            	and liberado == false and transportadora == null and dataInicial == null and dataFinal == null and (colItens == null or colItens.isEmpty())">
                AND
	            	flogbook07_status != 'L'
	            AND
	            	flogbook07_status != 'N'
	            ORDER BY
				  logbook07_logbook.flogbook07_data_emissao_cte,
				  logbook07_logbook.flogbook07_transportadora,
				  logbook07_logbook.flogbook07_cte
				LIMIT 100;
            </when>
            <otherwise>
                ORDER BY
				  logbook07_logbook.flogbook07_data_emissao_cte,
				  logbook07_logbook.flogbook07_transportadora,
				  logbook07_logbook.flogbook07_cte
				LIMIT 500;
            </otherwise>
        </choose>
    </select>
    
    <select id="selectByIds" resultMap="result" parameterType="LogbookVO" >
        SELECT
		  flogbook07_id,
		  flogbook07_status
		FROM
		  logbook07_logbook
		WHERE
        <if test="colIds != null and !colIds.isEmpty()">
	       	  flogbook07_id
	        IN
	        <foreach collection="colIds" item="item" index="index" open="(" separator="," close=")" >
	            #{item}
	        </foreach>
        </if>
    </select>

    <select id="selectCompararNovelis" resultMap="result" parameterType="LogbookVO" >
        SELECT
		  logbook07_logbook.*,
		  logbook08_logbook_nota.*,
		  logbook10_tipo_operacao.*,
		  logbook11_estados.*,
		  logbook12_tipo_servico.*,
		  logbook13_tipo_cobranca.*,
		  logbook14_tipo_veiculo.*,
		  logbook09_tipo_documento.*,
		  estadodestino.flogbook11_id dest_flogbook11_id,
		  estadodestino.flogbook11_sigla dest_flogbook11_sigla,
		  estadodestino.flogbook11_estado dest_flogbook11_estado,
		  utilizado.flogbook14_id vu_flogbook14_id,
		  utilizado.flogbook14_descricao vu_flogbook14_descricao
		FROM
		  logbook07_logbook
		INNER JOIN
		  logbook08_logbook_nota
		ON
		  logbook07_logbook.flogbook07_id = logbook08_logbook_nota.flogbook07_id
		INNER JOIN
		  logbook10_tipo_operacao
		ON
		  logbook10_tipo_operacao.flogbook10_id = logbook07_logbook.flogbook07_operacao
		INNER JOIN
		  logbook11_estados
		ON
		  logbook11_estados.flogbook11_id = logbook07_logbook.flogbook07_uf_origem
		INNER JOIN
		  logbook11_estados as estadodestino
		ON
		  estadodestino.flogbook11_id = logbook07_logbook.flogbook07_uf_destino
		INNER JOIN
		  logbook12_tipo_servico
		ON
		  logbook12_tipo_servico.flogbook12_id = logbook07_logbook.flogbook07_tipo_servico
		INNER JOIN
		  logbook13_tipo_cobranca
		ON
		  logbook13_tipo_cobranca.flogbook13_id = logbook07_logbook.flogbook07_tipo_cobranca
		INNER JOIN
		  logbook14_tipo_veiculo
		ON
		  logbook14_tipo_veiculo.flogbook14_id = logbook07_logbook.flogbook07_tipo_veiculo_solicitado
		INNER JOIN
		  logbook14_tipo_veiculo as utilizado
		ON
		  utilizado.flogbook14_id = logbook07_logbook.flogbook07_tipo_veiculo_utilizado
		INNER JOIN
		  logbook09_tipo_documento
		ON
		  logbook09_tipo_documento.flogbook09_id = logbook07_logbook.flogbook07_tipo_documento
		WHERE
			flogbook07_status != 'A'
		AND
			flogbook07_status != 'L'
        <if test="colNotasSerie != null and !colNotasSerie.isEmpty()">
	        AND
	        	logbook08_logbook_nota.flogbook08_numero
	        IN
	        <foreach collection="colNotasSerie" item="item" index="index" open="(" separator="," close=")" >
	            #{item}
	        </foreach>
        </if>
		ORDER BY
		  logbook07_logbook.flogbook07_data_emissao_cte,
		  logbook07_logbook.flogbook07_transportadora,
		  logbook07_logbook.flogbook07_cte;
    </select>
    
    <select id="selectUnique" resultMap="result" parameterType="LogbookVO" >
        SELECT
		  logbook07_logbook.*,
		  logbook08_logbook_nota.*,
		  logbook10_tipo_operacao.*,
		  logbook11_estados.*,
		  logbook12_tipo_servico.*,
		  logbook13_tipo_cobranca.*,
		  logbook14_tipo_veiculo.*,
		  logbook09_tipo_documento.*,
		  estadodestino.flogbook11_id dest_flogbook11_id,
		  estadodestino.flogbook11_sigla dest_flogbook11_sigla,
		  estadodestino.flogbook11_estado dest_flogbook11_estado,
		  utilizado.flogbook14_id vu_flogbook14_id,
		  utilizado.flogbook14_descricao vu_flogbook14_descricao
		FROM
		  logbook07_logbook
		LEFT JOIN
		  logbook08_logbook_nota
		ON
		  logbook07_logbook.flogbook07_id = logbook08_logbook_nota.flogbook07_id
		INNER JOIN
		  logbook10_tipo_operacao
		ON
		  logbook10_tipo_operacao.flogbook10_id = logbook07_logbook.flogbook07_operacao
		INNER JOIN
		  logbook11_estados
		ON
		  logbook11_estados.flogbook11_id = logbook07_logbook.flogbook07_uf_origem
		INNER JOIN
		  logbook11_estados as estadodestino
		ON
		  estadodestino.flogbook11_id = logbook07_logbook.flogbook07_uf_destino
		INNER JOIN
		  logbook12_tipo_servico
		ON
		  logbook12_tipo_servico.flogbook12_id = logbook07_logbook.flogbook07_tipo_servico
		INNER JOIN
		  logbook13_tipo_cobranca
		ON
		  logbook13_tipo_cobranca.flogbook13_id = logbook07_logbook.flogbook07_tipo_cobranca
		INNER JOIN
		  logbook14_tipo_veiculo
		ON
		  logbook14_tipo_veiculo.flogbook14_id = logbook07_logbook.flogbook07_tipo_veiculo_solicitado
		INNER JOIN
		  logbook14_tipo_veiculo as utilizado
		ON
		  utilizado.flogbook14_id = logbook07_logbook.flogbook07_tipo_veiculo_utilizado
		INNER JOIN
		  logbook09_tipo_documento
		ON
		  logbook09_tipo_documento.flogbook09_id = logbook07_logbook.flogbook07_tipo_documento
		WHERE
		logbook07_logbook.flogbook07_id = #{id}
    </select>

    <resultMap id="result" type="LogbookVO">
    	<id property="id" column="flogbook07_id"/>
        <result property="week" column="flogbook07_week" />
		<result property="transportadora" column="flogbook07_transportadora" />
		<result property="cnpjTransportadora" column="flogbook07_cnpj_transportadora" />
		<result property="filial" column="flogbook07_filial" />
		<result property="dataAgendamento" column="flogbook07_data_agendamento" />
		<result property="cte" column="flogbook07_cte" />
		<result property="serieCte" column="flogbook07_serie" />
		<result property="dataEmissaoCte" column="flogbook07_data_emissao_cte" />
		<result property="chaveCte" column="flogbook07_chave_cte" />
		<result property="rota" column="flogbook07_rota" />
		<result property="origem" column="flogbook07_origem" />
		<result property="destino" column="flogbook07_destino" />
		<result property="extensaoRota" column="flogbook07_extensao_rota" />
		<result property="valorTarifa" column="flogbook07_valor_tarifa" />
		<result property="valorFretePeso" column="flogbook07_valor_frete_peso" />
		<result property="valorEmissaoCte" column="flogbook07_valor_emissao_cte" />
		<result property="valorPedagio" column="flogbook07_valor_pedagio" />
		<result property="aliquotaSeguro" column="flogbook07_aliquota_seguro" />
		<result property="seguro" column="flogbook07_valor_seguro" />
		<result property="valorDespesaExtra" column="flogbook07_valor_despesa_extra" />
		<result property="percurso" column="flogbook07_percurso" />
		<result property="solicitanteServico" column="flogbook07_solicitante_servico" />
		<result property="aliquotaIcms" column="flogbook07_aliquota_icms" />
		<result property="icms" column="flogbook07_valor_icms" />
		<result property="placaVeiculoUtilizado" column="flogbook07_placa_veiculo_utilizado" />
		<result property="capacidadeVeiculoSolicitado" column="flogbook07_capacidade_veiculo_solicitado" />
		<result property="capacidadeVeiculoUtilizado" column="flogbook07_capacidade_veiculo_utilizado" />
		<result property="status" column="flogbook07_status" />
		<result property="observacao" column="flogbook07_observacao" />
		<result property="dataCadastro" column="flogbook07_data_cadastro" />
		<result property="responsavel" column="flogbook07_responsavel" />
		<result property="dataEmAuditoria" column="flogbook07_data_em_auditoria" />
		<result property="dataValidado" column="flogbook07_data_validado" />
		<result property="dataAprovado" column="flogbook07_data_aprovado" />
		<result property="dataLiberado" column="flogbook07_data_liberado" />
		<result property="valorPrecalculo" column="flogbook07_valor_pre_calculo" />
		<result property="numeroConhecimento" column="flogbook07_numero_conhecimento" />
		<result property="serieConhecimento" column="flogbook07_serie_conhecimento" />
		<result property="valorConhecimento" column="flogbook07_valor_conhecimento" />
		<result property="interfaceErp" column="flogbook07_interface_erp" />
		<result property="codigoProduto" column="flogbook07_codigo_produto" />
		<result property="naoMigrouCtms" column="flogbook07_nao_migrou_ctms" />
		<result property="dataNaoMigrouCtms" column="flogbook07_data_nao_migrou_ctms" />
		<result property="cteASerLiberadoCtmsXml" column="flogbook07_cte_a_ser_liberado_ctms_xml" />
		<result property="dataCteASerLiberadoCtmsXml" column="flogbook07_data_cte_a_ser_liberado_ctms_xml" />
		<result property="cteASerLiberadoCtmsAprovacao" column="flogbook07_cte_a_ser_liberado_ctms_aprovacao" />
		<result property="dataCteASerLiberadoCtmsAprovacao" column="flogbook07_data_cte_a_ser_liberado_ctms_aprovacao" />
		<result property="ctmsNaoFezPreCalculo" column="flogbook07_ctms_nao_fez_pre_calculo" />
		<result property="dataCtmsNaoFezPreCalculo" column="flogbook07_data_ctms_nao_fez_pre_calculo" />
		<result property="conembNaoMigrouCtms" column="flogbook07_conemb_nao_migrou_ctms" />
		<result property="dataConembNaoMigrouCtms" column="flogbook07_data_conemb_nao_migrou_ctms" />
		<result property="inseridoManualmente" column="flogbook07_inserido_manualmente" />
		<result property="dataInseridoManualmente" column="flogbook07_data_inserido_manualmente" />
		<result property="manual" column="flogbook07_is_manual" />
		<result property="interacaoManual" column="flogbook07_is_interacao_manual" />
        <association property="operacao" javaType="TipoOperacaoVO">
            <id property="id" column="flogbook10_id"/>
       		<result property="descricao" column="flogbook10_descricao" />
        </association>
        <association property="tipoCobranca" javaType="TipoCobrancaVO">
            <id property="id" column="flogbook13_id"/>
        	<result property="descricao" column="flogbook13_descricao" />
        </association>
        <association property="tipoServico" javaType="TipoServicoVO">
            <id property="id" column="flogbook12_id"/>
        	<result property="descricao" column="flogbook12_descricao" />
        </association>
        <association property="tipoVeiculoSolicitado" javaType="TipoVeiculoVO">
            <id property="id" column="flogbook14_id"/>
        	<result property="descricao" column="flogbook14_descricao" />
        </association>
        <association property="tipoVeiculoUtilizado" javaType="TipoVeiculoVO" columnPrefix="vu_">
            <id property="id" column="flogbook14_id"/>
        	<result property="descricao" column="flogbook14_descricao" />
        </association>
        <association property="ufOrigem" javaType="EstadoVO">
            <result property="id" column="flogbook11_id" />
	        <result property="sigla" column="flogbook11_sigla" />
	        <result property="estado" column="flogbook11_estado" />
        </association>
        <association property="ufDestino" javaType="EstadoVO" columnPrefix="dest_">
            <result property="id" column="flogbook11_id" />
	        <result property="sigla" column="flogbook11_sigla" />
	        <result property="estado" column="flogbook11_estado" />
        </association>
        <association property="tipoDocumento" javaType="TipoDocumentoVO">
            <id property="id" column="flogbook09_id"/>
        	<result property="descricao" column="flogbook09_descricao" />
        </association>
        <collection property="colNotas" ofType="LogbookNotaVO">
            <id property="id" column="flogbook08_id"/>
            <result property="emissor" column="flogbook08_emissor" />
	        <result property="cnpjEmissor" column="flogbook08_cnpj_emissor" />
	        <result property="numero" column="flogbook08_numero" />
	        <result property="serie" column="flogbook08_serie" />
	        <result property="peso" column="flogbook08_peso" />
	        <result property="valor" column="flogbook08_valor" />
	        <result property="tipoDocumento" column="flogbook08_tipo_documento" />
	        <collection property="colPrecalculos" ofType="ErroPrecalculoVO">
	            <result property="id" column="flogbook20_id" />
		        <result property="notaFiscal" column="flogbook20_nota_fiscal" />
		        <result property="serie" column="flogbook20_serie" />
		        <result property="cnpjEmissor" column="flogbook20_cnpj_emissor" />
		        <result property="erro" column="flogbook20_erro" />
		        <result property="responsavel" column="flogbook20_responsavel" />
		        <result property="dataCadastro" column="flogbook20_data_cadastro" />
	        </collection>
        </collection>
        <collection property="colJustificativas" ofType="JustificativaVO">
            <id property="id" column="flogbook19_id"/>
            <result property="descricao" column="flogbook19_descricao" />
	        <result property="responsavel" column="flogbook19_responsavel" />
	        <result property="dataCadastro" column="flogbook19_data_cadastro" />
	        <association property="grupo" javaType="GrupoJustificativaVO">
            	<id property="id" column="flogbook18_id" />
        		<result property="nome" column="flogbook18_nome" />
        	</association>
        </collection>
    </resultMap>

</mapper>